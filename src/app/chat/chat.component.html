<!DOCTYPE html>
<html lang="en">


<!-- Mirrored from pix-placewise.vercel.app/user-chat.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 10 Mar 2024 18:56:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="landing page starter kit">
  <meta name="keywords" content="bootstrap 5, saas, landing page">
  <meta name="author" content="asaduzzaman">
  <title>Placewise - Online Booking HTML Template</title>
  
</head>

<body class="bg-primary-3p">
  
  <!-- Header -->
  <app-header2></app-header2>
  <!-- /Header -->
  <!-- Banner -->
  <div class="section-space--sm bg-neutral-900">
    <div class="container">
      <div class="row g-4 align-items-center">
        <div class="col-md-6">
          <h1 class="d4 clr-neutral-0 mb-3"> Chat  </h1>
          <ul class="list list-row list-arrow align-items-center">
            <li>
              <a href="profil" class="link d-inline-block clr-neutral-0 :clr-tertiary-300"> Tableau de bord </a>
            </li>
            <li>
              <a href="chat.component.html" class="link d-inline-block clr-tertiary-300"> Chat  </a>
            </li>
          </ul>
        </div>
        <div class="col-md-6">
          <div class="text-md-end">
            <a href="#" class="link d-inline-flex align-items-center gap-2 py-3 px-6 rounded-pill bg-neutral-700 :bg-primary-300">
              <span class="d-inline-block clr-neutral-0 fw-semibold">Déconnection </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- /Banner -->
  <!-- Dashboard -->
  <div class="section-space--sm pt-0 position-relative z-1">
    <span class="w-100 h-30 position-absolute start-0 end-0 top-0 z-n1 bg-neutral-900"></span>
    <div class="container">
      <div class="row g-4">
        <div class="col-lg-3">
          <app-header3></app-header3>
        </div>
        <div class="col-lg-9">
          <div class="rounded-4 bg-neutral-0 shadow-3 chat-box" >
            <div class="chat-box__nav p-4" >
              <div class="d-flex align-items-center justify-content-between flex-wrap">
                <h5 class="mb-0 flex-grow-1 clr-neutral-500"> Liste propriétaire  </h5>
               
              </div>
              <div class="d-flex align-items-center p-2 border border-neutral-30 bg-primary-3p rounded-pill my-6">
                <input type="text" class="form-control bg-transparent border-0" [(ngModel)]="searchQuery" (ngModelChange)="searchProprietaireParNom()">
                <button type="button" class="d-grid place-content-center w-10 h-10 rounded-circle border-0 bg-primary-300 clr-neutral-0 flex-shrink-0">
                  <span class="material-symbols-outlined mat-icon"> search </span>
                </button>
              </div>
              <div class="chat-box__menu overflow-y-auto">
                <ul class="list gap-6">
                  <li *ngFor="let presentation of alluser">
                    <div class="d-flex flex-wrap align-items-center gap-4" *ngIf="presentation.nom != check" (click)="goToChat(presentation.email,presentation.nom)">
                      <div class="w-11 h-11 position-relative z-1 rounded-circle flex-shrink-0">
                        <img src="{{presentation.photo}}" alt="image" class="w-100 h-100 object-fit-cover overflow-hidden rounded-circle">
                        <span class="d-inline-block w-3 h-3 rounded-circle bg-secondary-300 position-absolute end-0 bottom-0 z-1"></span>
                      </div>
                      <div class="flex-grow-1 d-flex align-items-center justify-content-between gap-4">
                        <div class="flex-grow-1">
                          <P class="fw-semibold mb-1"> {{presentation.nom}} {{presentation.prenom}} </P>
                        </div>
                        
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            <div class="chat-box__content" >
              <div class="chat-box__content-head p-4">
                <div class="d-flex align-items-center justify-content-between flex-wrap gap-1">
                  <div class="d-flex align-items-center align-items-center gap-4" *ngIf="secondUserName==senderCheck">
                    <div class="w-15 h-15 position-relative z-1 rounded-circle flex-shrink-0">
                      <span class="d-inline-block w-4 h-4 rounded-circle bg-secondary-300 position-absolute end-0 bottom-0 z-1"></span>
                      <div class="w-15 h-15 rounded-circle overflow-hidden mb-4">
                        <img src="{{userDetails.photo}}" alt="image" class="w-100 h-100 object-fit-cover">
                    </div>
                    </div>
                    
                    <h5 class="mb-0 flex-grow-1 clr-neutral-500">  {{firstUserName}} </h5>
                  </div>
                  <div class="d-flex align-items-center align-items-center gap-4" *ngIf="secondUserName!=senderCheck">
                    <div class="w-15 h-15 position-relative z-1 rounded-circle flex-shrink-0">
                      <span class="d-inline-block w-4 h-4 rounded-circle bg-secondary-300 position-absolute end-0 bottom-0 z-1"></span>
                      <div class="w-15 h-15 rounded-circle overflow-hidden mb-4">
                        <img src="{{profilSeconder.photo}}" alt="image" class="w-100 h-100 object-fit-cover"> 
                    </div>
                    </div>
                    
                    <h5 class="mb-0 flex-grow-1 clr-neutral-500">{{profilSeconder.nom}}   </h5>
                  </div>
                  
                </div>
              </div>
              <div class="chat-box__content-body bg-primary-10p p-4 overflow-y-auto" style="height: 430px; position: relative;" #scrollMe [scrollTop]="scrollMe.scrollHeight">
                <ul class="list gap-2" *ngFor="let msg of messageList">
                    <li *ngIf="msg.senderEmail!=senderCheck" >
                
                        <div class="d-flex flex-column align-items-start" >
                            <div class="w-12 h-12 rounded-circle overflow-hidden mb-4">
                                <img src="{{profilSeconder.photo}}" alt="image" class="w-100 h-100 object-fit-cover">
                            </div>
                            
                            <div class="chat-box__message arrow-up" >
                              <span class="d-inline-block mb-0 clr-neutral-500">{{msg.replymessage}}</span>
                          </div>
                            <span class="msg_time_send">{{msg.time.substring(11,16)}} </span>
                              
                        </div>
                    </li>
                    <li *ngIf="msg.senderEmail==senderCheck">
                        <div class="d-flex flex-column align-items-end">
                            <span class="msg_time_send">{{msg.time.substring(11,16)}} </span>
                            <div class="chat-box__message arrow-bottom">
                                <p class="d-inline-block mb-0 clr-neutral-500">{{msg.replymessage}}</p>
                            </div>
                            <div class="w-12 h-12 rounded-circle overflow-hidden mt-4">
                                <img src="{{userDetails.photo}}" alt="image" class="w-100 h-100 object-fit-cover">
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            
              <div class="chat-box__content-footer p-4 d-flex align-items-center flex-wrap gap-4">
                
                <form [formGroup]="chatForm" class="w-100">
          <div class="d-flex align-items-center p-2 border border-neutral-30 bg-primary-3p rounded-pill w-100">
              <input type="text" class="form-control bg-transparent border-0 flex-grow-1" placeholder="Type your message..." name=""
              formControlName="replymessage" (keyup.enter)="sendMessage()">
              <button type="button" class="d-grid place-content-center w-auto h-10 rounded-circle border-0 bg-primary-300 clr-neutral-0 flex-shrink-0" 
              (click)="sendMessage()">
                  <span class="material-symbols-outlined mat-icon"> near_me </span>
              </button>
          </div>
      </form>
              
              </div>
            </div>
            <div class="chat-box__nav p-4">
              <div class="d-flex align-items-center justify-content-between flex-wrap">
                <h5 class="mb-0 flex-grow-1 clr-neutral-500"> Chats </h5>
               
              </div>
              <div class="d-flex align-items-center p-2 border border-neutral-30 bg-primary-3p rounded-pill my-6">
                <input type="text" class="form-control bg-transparent border-0" [(ngModel)]="searchQueryChats" (ngModelChange)="searchChatParNom()">
                <button type="button" class="d-grid place-content-center w-10 h-10 rounded-circle border-0 bg-primary-300 clr-neutral-0 flex-shrink-0">
                  <span class="material-symbols-outlined mat-icon"> search </span>
                </button>
              </div>
              
              <div class="chat-box__menu overflow-y-auto">
                <ul class="list gap-6">
                  <li *ngFor="let chats of chatList ; let i = index">
                    <div class="d-flex flex-wrap align-items-center gap-4" *ngIf="listeUser[i] " (click)="loadChatByEmail(chats.emailSecondeUser, chats.emailfirstUserName)">
                      <div class="w-11 h-11 position-relative z-1 rounded-circle flex-shrink-0" >
                        <div  *ngIf="chats.secondUserName!=senderCheckk">
                          <img  src="{{listeUser[i].photo}}" alt="image" class="w-100 h-100 object-fit-cover overflow-hidden rounded-circle">
                        <span class="d-inline-block w-3 h-3 rounded-circle bg-secondary-300 position-absolute end-0 bottom-0 z-1"></span>
                      </div>
                        <div  *ngIf="chats.secondUserName==senderCheckk">
                          <img  src="{{listeUser[i].photo}}"alt="image" class="w-100 h-100 object-fit-cover overflow-hidden rounded-circle">
                          <span class="d-inline-block w-3 h-3 rounded-circle bg-secondary-300 position-absolute end-0 bottom-0 z-1"></span>
                        </div>
                      </div>
                      
                      <div class="flex-grow-1 d-flex align-items-center justify-content-between gap-4" *ngIf="chats.secondUserName!=senderCheckk">
                        <div class="flex-grow-1">
                          <P class="fw-semibold mb-1"> {{chats.secondUserName}} {{listeUser[i].prenom}}</P>
                          <span class="d-block fs-12 clr-neutral-500" *ngIf="chats.messageList!=null"> {{messageList[messageList.length-1].replymessage}}</span>
                        </div>
                        <div class="flex-shrink-0 d-inline-block text-center">
                          <div class="d-grid place-content-center w-6 h-6 rounded-circle bg-primary-300 clr-neutral-0">
                            <span class="fs-14 lh-1">1</span>
                          </div>
                          <span class="d-inline-block clr-primary-300 fs-12" *ngIf="chats.messageList!=null"> {{messageList[messageList.length-1].time.substring(11,16)}} </span>
                        </div>
                      </div>
                      <div class="flex-grow-1 d-flex align-items-center justify-content-between gap-4"  *ngIf="chats.secondUserName==senderCheckk">
                        <div class="flex-grow-1">
                          <P class="fw-semibold mb-1"> {{chats.firstUserName}} {{listeUser[i].prenom}}</P>
                          <span class="d-block fs-12 clr-neutral-500" *ngIf="chats.messageList!=null"> {{messageList[messageList.length-1].replymessage}} </span>
                        </div>
                        <div class="flex-shrink-0 d-inline-block text-center">
                          <div class="d-grid place-content-center w-6 h-6 rounded-circle bg-primary-300 clr-neutral-0">
                            <span class="fs-14 lh-1">1</span>
                          </div>
                          <span class="d-inline-block clr-primary-300 fs-12" *ngIf="chats.messageList!=null"> {{chats.messageList[messageList.length-1].time.substring(11,16)}}</span>
                        </div>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- /Dashboard -->
  <!-- Footer -->
  <app-footer></app-footer>
  <!-- /Footer -->
  
</body>


<!-- Mirrored from pix-placewise.vercel.app/user-chat.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 10 Mar 2024 18:56:15 GMT -->
</html>