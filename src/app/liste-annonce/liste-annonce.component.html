<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="landing page starter kit">
  <meta name="keywords" content="bootstrap 5, saas, landing page">
  <meta name="author" content="asaduzzaman">
  <title>Placewise - Online Booking HTML Template</title>
  <style>
    .card-img-top {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 8px; /* Rounded corners */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow */
      transition: transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transition for effects */
    }

    .card-img-top:hover {
      transform: scale(1.05); /* Slight zoom on hover */
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* Darker shadow on hover */
    }

    .card-title {
      font-size: 1.25rem;
      font-weight: bold;
      margin-bottom: 0.75rem;
    }

    .card-text {
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }

    .card-footer {
      background-color: #f8f9fa;
      border-top: 1px solid #e9ecef;
    }

    .btn-danger {
      background-color: #dc3545;
      border-color: #dc3545;
    }

    .btn-info {
      background-color: #17a2b8;
      border-color: #17a2b8;
    }

    .property-card {
      border: 1px solid #e9ecef;
      border-radius: 8px;
      overflow: hidden;
    }

    .property-card__head {
      position: relative;
    }

    .property-card__fav {
      position: absolute;
      top: 10px;
      right: 10px;
    }

    .hr-line {
      border-top: 1px solid #e9ecef;
      margin: 1rem 0;
    }

    .hr-dashed {
      border-top: 1px dashed #e9ecef;
      margin: 1rem 0;
    }

    .section-space--sm {
      padding: 2rem 0; /* Increased padding for better spacing */
    }

   

    .fixed-size-image {
      width: 100%;
      max-width: 400px; /* Max width to ensure images are not too large */
      height: 100px;
      object-fit: cover;
      border-radius: 8px; /* Rounded corners */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow */
      transition: transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transition for effects */
    }
  </style>
</head>

<body class="bg-primary-3p">

  <!-- Header Top -->
  <app-header2></app-header2>
  <!-- /Header Top -->
  <!-- Header -->

  <!-- /Header -->
  <!-- Banner -->
  <div class="section-space--sm bg-neutral-900">
    <div class="container">
      <div class="row g-4 align-items-center">
        <div class="col-md-6">
          <h1 class="d4 clr-neutral-0 mb-3"> Mes annonces </h1>
          <ul class="list list-row list-arrow align-items-center">
            <li>
              <a href="profil" class="link d-inline-block clr-neutral-0 clr-tertiary-300"> Tableau de bord </a>
            </li>
            <li>
              <a href="liste-annonce.component.html" class="link d-inline-block clr-tertiary-300"> Mes annonces </a>
            </li>
          </ul>
        </div>
        <div class="col-md-6">
          <div class="text-md-end">
            <a href="#" class="link d-inline-flex align-items-center gap-2 py-3 px-6 rounded-pill bg-neutral-700 bg-primary-300">
              <span class="d-inline-block clr-neutral-0 fw-semibold">Déconnexion </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- /Banner -->
  <!-- Dashboard -->
  <div class="section-space--sm pt-0 position-relative z-1">
    <span class="w-100 h-30 position-absolute start-0 end-0 top-0 z-n1 bg-neutral-900"></span>
    <div class="container">
      <div class="row g-4">
        <div class="col-md-5 col-lg-4 col-xl-3">
          <app-header3></app-header3>
        </div>
        <div class="col-lg-8 col-xl-9">
          <ng-container *ngIf="listeAnnonce && listeAnnonce.length > 0">
            <div class="col-xl-12">
              <ul class="list gap-6">
                <li >
                  <div class="p-6 p-xl-10 rounded-4 bg-neutral-0 shadow-3">
                    <h3 class="mb-0 flex-grow-1"> Mes annonces </h3>
                   <div *ngFor="let ann of listeAnnonce">
                    <div class="hr-line my-6"></div>
                    <div class="row g-4">

                      <div class="col-12">
                        <div class="property-card property-card--row">
                          <div class="property-card__head">
                            <div class="property-card__img">
                              <img [src]="ann.image" alt="Image de l'annonce" class="fixed-size-image" *ngIf="ann.image">
                            </div>
                            <a href="property-grid.html" class="link property-card__tag d-inline-block bg-neutral-0 :bg-primary-300 clr-primary-300 :clr-neutral-0 py-2 px-4 rounded-pill fw-medium"> {{ann.type_d_hebergement}} </a>
                              <button class="property-card__fav w-10 h-10 rounded-circle bg-neutral-0 d-grid place-content-center border-0 clr-primary-300">
                             <span class="material-symbols-outlined mat-icon fw-200 property-card__heart"> favorite </span>
                             </button>
                          </div>
                          <div class="property-card__content">
                            <div class="property-card__body">
                              
                              <div class="d-flex justify-content-between mb-6">
                                <div class="d-flex align-items-center gap-1">
                                  <span class="material-symbols-outlined mat-icon clr-tertiary-400"> distance </span>
                                  <span class="d-inline-block">{{ann.code_postale}} {{ann.pays}} {{ann.ville}}</span>
                                </div>
                                <div class="d-inline-flex align-items-center">
                                  <!-- Affichage du bouton "En attente" si l'annonce n'est pas vérifiée -->
                                  <span *ngIf="!ann.verification" class="badge bg-warning text-dark rounded-pill px-4 py-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hourglass-split me-2" viewBox="0 0 16 16">
                                      <path d="M2.5 15a.5.5 0 0 1-.5-.5v-2c0-.276.224-.5.5-.5H3v-1.5a2.5 2.5 0 0 1 1.757-2.416 2.5 2.5 0 0 1 0-1.168A2.5 2.5 0 0 1 3 4.5V3H2.5a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H13v1.5a2.5 2.5 0 0 1-1.757 2.416 2.5 2.5 0 0 1 0 1.168A2.5 2.5 0 0 1 13 10.5V12h.5a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-11z"/>
                                    </svg>
                                    En attente
                                  </span>
                                
                                  <!-- Affichage de l'icône vérifiée si l'annonce est vérifiée -->
                                  <div *ngIf="ann.verification" class="d-inline-flex align-items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-check-circle-fill me-2" viewBox="0 0 16 16">
                                      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                                    </svg>
                                    Vérifiée
                                  </div>
                                
                                  <!-- Affichage du bouton pour changer l'état de l'annonce en fonction de l'attribut "accorde_user" -->
                                  <button class="btn btn-sm" *ngIf="ann.accorde_user" (click)="updateAnnoncetat(ann)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                                      <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                                      <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"/>
                                    </svg>
                                  </button>
                                  <button class="btn btn-sm" *ngIf="!ann.accorde_user" (click)="updateAnnoncetat(ann)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-eye-slash-fill" viewBox="0 0 16 16">
                                      <path d="m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7 7 0 0 0 2.79-.588M5.21 3.088A7 7 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474z"/>
                                      <path d="M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12z"/>
                                    </svg>
                                  </button>
                                </div>
                                
                                
                              </div>
                              <a href="property-details-1.html" class="link d-block clr-neutral-700 :clr-primary-300 fs-20 fw-medium mb-7"> {{ann.titre}} </a>

                              <ul class="list list-row flex-wrap dotted-divider">
                                <li>
                                  <span class="material-symbols-outlined mat-icon clr-neutral-600 d-inline-block mb-1"> home_work </span>
                                  <span class="d-block fs-14"> {{ann.nb_chamber}} Chambres </span>
                                </li>
                                <li>
                                  <span class="material-symbols-outlined mat-icon clr-neutral-600 d-inline-block mb-1"> bed </span>
                                  <span class="d-block fs-14"> {{ann.nb_lits}} lits </span>
                                </li>
                                <li>
                                  <span class="material-symbols-outlined mat-icon clr-neutral-600 d-inline-block mb-1"> bathtub </span>
                                  <span class="d-block fs-14"> {{ann.nb_salles}} Salles de bain</span>
                                </li>
                                <li>
                                  <span class="material-symbols-outlined mat-icon clr-neutral-600 d-inline-block mb-1"> group </span>
                                  <span class="d-block fs-14"> {{ann.nb_voyageur}} Vacanciers</span>
                                </li>
                              </ul>
                            </div>
                            <div class="property-card__body py-0">
                              <div class="hr-dashed"></div>
                            </div>
                            <div class="property-card__body">
                              <div class="d-flex flex-wrap justify-content-between align-items-center">
                                <span class="d-block fs-20 fw-medium clr-primary-300">{{ann.prix}}<span class="d-inline-block clr-neutral-500 fs-16 fw-normal"> /Dt</span></span>
                                <button (click)="modifierAnnonce(ann.id)" class="btn btn-sm btn-outline-primary rounded-pill px-4 py-2">
                                  Modifier
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                   </div>
                  </div>
                </li>
              </ul>
            </div>
          </ng-container>
          <ng-container *ngIf="!listeAnnonce || listeAnnonce.length === 0">
            <p>Aucune annonce trouvée.</p>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
  <!-- /Dashboard -->
  <!-- Footer -->
  <app-footer></app-footer>
  <!-- /Footer -->

</body>

</html>
